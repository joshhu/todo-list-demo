<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="‰∏ÄÂÄãÁ∞°ÊΩîÈ´òÊïàÁöÑÂæÖËæ¶‰∫ãÈ†ÖÁÆ°ÁêÜÊáâÁî®Á®ãÂºè">
    <meta name="keywords" content="ÂæÖËæ¶‰∫ãÈ†Ö, ‰ªªÂãôÁÆ°ÁêÜ, ÁîüÁî¢ÂäõÂ∑•ÂÖ∑">
    <meta name="author" content="Joshhu">

    <title>Todo List - ‰ªªÂãôÁÆ°ÁêÜÂ∑•ÂÖ∑</title>

    <!-- CSS Êñá‰ª∂ -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/accessibility.css">
    <link rel="stylesheet" href="css/status-management.css">
    <link rel="stylesheet" href="css/responsive-optimization.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/empty-states.css">

    <!-- Preload ÈóúÈçµË≥áÊ∫ê -->
    <link rel="preload" href="assets/icons/check.svg" as="image">
    <link rel="preload" href="assets/icons/edit.svg" as="image">
    <link rel="preload" href="assets/icons/delete.svg" as="image">

    <!-- PWA Áõ∏Èóú meta Ê®ôÁ±§ -->
    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Todo List">
</head>
<body>
    <!-- Ë∑≥ÈÅéÈÄ£Áµê - ÁÑ°ÈöúÁ§ôÂ∞éËà™ -->
    <a href="#main-content" class="skip-link">Ë∑≥ÈÅéÂà∞‰∏ªË¶ÅÂÖßÂÆπ</a>

    <!-- ËºâÂÖ•ÊåáÁ§∫Âô® -->
    <div class="loading-overlay" id="loadingOverlay" aria-hidden="true">
        <div class="loading-spinner" aria-label="Ê≠£Âú®ËºâÂÖ•..."></div>
    </div>

    <!-- ‰∏ªË¶ÅÊáâÁî®Á®ãÂºèÂÆπÂô® -->
    <div class="app-container">
        <!-- ÊáâÁî®Á®ãÂºèÊ®ôÈ°åÂçÄÂüü -->
        <header class="app-header" role="banner">
            <div class="container">
                <div class="header-content">
                    <h1 class="app-title">
                        <span class="app-icon">üìù</span>
                        Todo List
                    </h1>
                    <div class="header-stats" role="status" aria-live="polite">
                        <span class="stat-item">
                            <span class="stat-count" id="totalTasksCount">0</span>
                            <span class="stat-label">Á∏Ω‰ªªÂãô</span>
                        </span>
                        <span class="stat-item">
                            <span class="stat-count" id="completedTasksCount">0</span>
                            <span class="stat-label">Â∑≤ÂÆåÊàê</span>
                        </span>
                    </div>
                </div>
            </div>
        </header>

        <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄÂüü -->
        <main class="app-main" role="main" id="main-content">
            <div class="container">
                <div class="main-grid">

                    <!-- ÂÅ¥ÈÇäÊ¨Ñ - ‰ªªÂãôËº∏ÂÖ•ÂíåÁØ©ÈÅ∏ -->
                    <aside class="sidebar" role="complementary">
                        <!-- ‰ªªÂãôËº∏ÂÖ•Ë°®ÂñÆ -->
                        <section class="task-input-section">
                            <h2 class="section-title">Êñ∞Â¢û‰ªªÂãô</h2>
                            <form class="task-form" id="taskForm" novalidate>
                                <div class="form-group">
                                    <label for="taskTitle" class="form-label">
                                        ‰ªªÂãôÊ®ôÈ°å <span class="required" aria-label="ÂøÖÂ°´">*</span>
                                    </label>
                                    <input
                                        type="text"
                                        id="taskTitle"
                                        class="form-input"
                                        placeholder="Ëº∏ÂÖ•‰ªªÂãôÊ®ôÈ°å..."
                                        required
                                        maxlength="200"
                                        aria-describedby="titleError titleHelp"
                                        autocomplete="off"
                                    >
                                    <div class="form-help" id="titleHelp">
                                        ÊúÄÂ§ö 200 ÂÄãÂ≠óÁ¨¶
                                    </div>
                                    <div class="error-message" id="titleError" role="alert" aria-live="polite"></div>
                                </div>

                                <div class="form-group">
                                    <label for="taskDescription" class="form-label">‰ªªÂãôÊèèËø∞</label>
                                    <textarea
                                        id="taskDescription"
                                        class="form-textarea"
                                        placeholder="Ëº∏ÂÖ•‰ªªÂãôË©≥Á¥∞ÊèèËø∞..."
                                        rows="3"
                                        maxlength="500"
                                        aria-describedby="descHelp"
                                    ></textarea>
                                    <div class="form-help" id="descHelp">
                                        ÊúÄÂ§ö 500 ÂÄãÂ≠óÁ¨¶
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="taskPriority" class="form-label">ÂÑ™ÂÖàÁ¥ö</label>
                                        <select id="taskPriority" class="form-select" aria-describedby="priorityHelp">
                                            <option value="low">üü¢ ‰Ωé</option>
                                            <option value="medium" selected>üü° ‰∏≠</option>
                                            <option value="high">üî¥ È´ò</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label for="taskDueDate" class="form-label">Êà™Ê≠¢Êó•Êúü</label>
                                        <input
                                            type="date"
                                            id="taskDueDate"
                                            class="form-input"
                                            aria-describedby="dateHelp"
                                        >
                                        <div class="form-help" id="dateHelp">
                                            ÈÅ∏Êìá‰ªªÂãôÊà™Ê≠¢Êó•Êúü
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="taskTags" class="form-label">Ê®ôÁ±§</label>
                                    <input
                                        type="text"
                                        id="taskTags"
                                        class="form-input"
                                        placeholder="Ëº∏ÂÖ•Ê®ôÁ±§ÔºåÁî®ÈÄóËôüÂàÜÈöî..."
                                        aria-describedby="tagsHelp"
                                        autocomplete="off"
                                    >
                                    <div class="form-help" id="tagsHelp">
                                        ‰æãÂ¶ÇÔºöÂ∑•‰Ωú, ÈáçË¶Å, ÊúÉË≠∞
                                    </div>
                                </div>

                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary" id="addTaskBtn">
                                        <span class="btn-icon">‚ûï</span>
                                        <span class="btn-text">Ê∑ªÂä†‰ªªÂãô</span>
                                        <span class="btn-shortcut">Ctrl+Enter</span>
                                    </button>
                                    <button type="button" class="btn btn-secondary" id="clearFormBtn">
                                        <span class="btn-text">Ê∏ÖÁ©∫</span>
                                    </button>
                                </div>
                            </form>
                        </section>

                        <!-- ÁØ©ÈÅ∏ÂíåÊéíÂ∫èÊéßÂà∂ -->
                        <section class="controls-section">
                            <h2 class="section-title">ÁØ©ÈÅ∏ËàáÊéíÂ∫è</h2>

                            <!-- ÊêúÁ¥¢Ê°Ü -->
                            <div class="search-container">
                                <label for="searchInput" class="sr-only">ÊêúÁ¥¢‰ªªÂãô</label>
                                <input
                                    type="search"
                                    id="searchInput"
                                    class="search-input"
                                    placeholder="ÊêúÁ¥¢‰ªªÂãô..."
                                    aria-label="ÊêúÁ¥¢‰ªªÂãô"
                                >
                                <button
                                    type="button"
                                    class="search-clear-btn"
                                    id="searchClearBtn"
                                    aria-label="Ê∏ÖÈô§ÊêúÁ¥¢"
                                    tabindex="-1"
                                >
                                    ‚úï
                                </button>
                            </div>

                            <!-- ÁØ©ÈÅ∏ÊåâÈàï -->
                            <div class="filter-controls" role="tablist" aria-label="‰ªªÂãôÁØ©ÈÅ∏">
                                <button
                                    class="filter-btn active"
                                    data-filter="all"
                                    role="tab"
                                    aria-selected="true"
                                    aria-controls="taskList"
                                >
                                    ÂÖ®ÈÉ® (<span class="count" data-count="all">0</span>)
                                </button>
                                <button
                                    class="filter-btn"
                                    data-filter="active"
                                    role="tab"
                                    aria-selected="false"
                                    aria-controls="taskList"
                                >
                                    ÈÄ≤Ë°å‰∏≠ (<span class="count" data-count="active">0</span>)
                                </button>
                                <button
                                    class="filter-btn"
                                    data-filter="completed"
                                    role="tab"
                                    aria-selected="false"
                                    aria-controls="taskList"
                                >
                                    Â∑≤ÂÆåÊàê (<span class="count" data-count="completed">0</span>)
                                </button>
                            </div>

                            <!-- ÊéíÂ∫èÈÅ∏Êìá -->
                            <div class="sort-controls">
                                <label for="sortSelect" class="sort-label">ÊéíÂ∫èÊñπÂºè</label>
                                <select id="sortSelect" class="sort-select" aria-label="ÊéíÂ∫è‰ªªÂãô">
                                    <option value="created-desc">ÂâµÂª∫ÊôÇÈñìÔºàÊñ∞Âà∞ËàäÔºâ</option>
                                    <option value="created-asc">ÂâµÂª∫ÊôÇÈñìÔºàËàäÂà∞Êñ∞Ôºâ</option>
                                    <option value="priority-desc">ÂÑ™ÂÖàÁ¥öÔºàÈ´òÂà∞‰ΩéÔºâ</option>
                                    <option value="priority-asc">ÂÑ™ÂÖàÁ¥öÔºà‰ΩéÂà∞È´òÔºâ</option>
                                    <option value="due-date">Êà™Ê≠¢Êó•Êúü</option>
                                    <option value="title">Ê®ôÈ°åÔºàA-ZÔºâ</option>
                                </select>
                            </div>

                            <!-- ÊâπÈáèÊìç‰Ωú -->
                            <div class="bulk-actions" id="bulkActions" style="display: none;">
                                <p class="bulk-actions-label">Â∑≤ÈÅ∏Êìá <span id="selectedCount">0</span> È†Ö‰ªªÂãô</p>
                                <div class="bulk-actions-buttons">
                                    <button type="button" class="btn btn-small btn-secondary" id="selectAllBtn">
                                        ÂÖ®ÈÅ∏
                                    </button>
                                    <button type="button" class="btn btn-small btn-secondary" id="markCompleteBtn">
                                        Ê®ôË®òÂÆåÊàê
                                    </button>
                                    <button type="button" class="btn btn-small btn-danger" id="deleteSelectedBtn">
                                        Âà™Èô§ÈÅ∏‰∏≠
                                    </button>
                                </div>
                            </div>

                        </section>

                        <!-- ÈÄ≤Â∫¶Áµ±Ë®àÂçÄÂüü -->
                        <section class="progress-section">
                            <h2 class="section-title">ÈÄ≤Â∫¶Áµ±Ë®à</h2>

                            <!-- ÈÄ≤Â∫¶ÂúñË°® -->
                            <div id="progressChart"></div>

                            <!-- ÁõÆÊ®ôÈÄ≤Â∫¶ -->
                            <div class="goals-container">
                                <div id="dailyGoalProgress"></div>
                                <div id="weeklyGoalProgress"></div>
                            </div>

                            <!-- Ë∂®Âã¢ÂúñË°® -->
                            <div id="trendChart"></div>

                            <!-- Ê¥ªÂãïÁÜ±ÂäõÂúñ -->
                            <div id="activityHeatmap"></div>
                        </section>
                    </aside>

                    <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄ - ‰ªªÂãôÂàóË°® -->
                    <section class="task-list-section" role="region" aria-label="‰ªªÂãôÂàóË°®">
                        <div class="task-list-header">
                            <h2 class="section-title">‰ªªÂãôÂàóË°®</h2>
                            <div class="view-controls">
                                <button
                                    type="button"
                                    class="view-btn active"
                                    data-view="list"
                                    aria-label="ÂàóË°®Ë¶ñÂúñ"
                                    title="ÂàóË°®Ë¶ñÂúñ"
                                >
                                    üìã
                                </button>
                                <button
                                    type="button"
                                    class="view-btn"
                                    data-view="grid"
                                    aria-label="Á∂≤Ê†ºË¶ñÂúñ"
                                    title="Á∂≤Ê†ºË¶ñÂúñ"
                                >
                                    ‚äû
                                </button>
                            </div>
                        </div>

                        <!-- ‰ªªÂãôÂàóË°®ÂÆπÂô® -->
                        <div class="task-list-container" id="taskListContainer">
                            <ul class="task-list" id="taskList" role="tabpanel" aria-label="‰ªªÂãôÈ†ÖÁõÆ">
                                <!-- ‰ªªÂãôÈ†ÖÁõÆÂ∞áÈÄöÈÅé JavaScript ÂãïÊÖãÁîüÊàê -->
                            </ul>

                            <!-- Á©∫ÁãÄÊÖãÊèêÁ§∫ -->
                            <div class="empty-state" id="emptyState">
                                <div class="empty-icon">üìù</div>
                                <h3 class="empty-title">ÈÇÑÊ≤íÊúâ‰ªªÂãô</h3>
                                <p class="empty-description">
                                    ÈñãÂßãÊ∑ªÂä†‰Ω†ÁöÑÁ¨¨‰∏ÄÂÄã‰ªªÂãôÔºåËÆìÁîüÊ¥ªÊõ¥ÊúâÊ¢ùÁêÜÔºÅ
                                </p>
                                <button type="button" class="btn btn-primary" id="emptyStateAddBtn">
                                    <span class="btn-icon">‚ûï</span>
                                    <span class="btn-text">Ê∑ªÂä†Á¨¨‰∏ÄÂÄã‰ªªÂãô</span>
                                </button>
                            </div>

                            <!-- ÊêúÁ¥¢ÁÑ°ÁµêÊûúÁãÄÊÖã -->
                            <div class="no-results" id="noResults" style="display: none;">
                                <div class="no-results-icon">üîç</div>
                                <h3 class="no-results-title">Êâæ‰∏çÂà∞ÂåπÈÖçÁöÑ‰ªªÂãô</h3>
                                <p class="no-results-description">
                                    Ë©¶Ë©¶Ë™øÊï¥ÊêúÁ¥¢ÈóúÈçµÂ≠óÊàñÁØ©ÈÅ∏Ê¢ù‰ª∂
                                </p>
                            </div>
                        </div>

                        <!-- ÂàÜÈ†ÅÊéßÂà∂ÔºàÈ†êÁïôÔºåÊú™‰æÜÂäüËÉΩÔºâ -->
                        <div class="pagination" id="pagination" style="display: none;">
                            <button type="button" class="pagination-btn" id="prevPageBtn" disabled>
                                ‚Äπ ‰∏ä‰∏ÄÈ†Å
                            </button>
                            <span class="pagination-info">
                                Á¨¨ <span id="currentPage">1</span> È†ÅÔºåÂÖ± <span id="totalPages">1</span> È†Å
                            </span>
                            <button type="button" class="pagination-btn" id="nextPageBtn" disabled>
                                ‰∏ã‰∏ÄÈ†Å ‚Ä∫
                            </button>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <!-- È†ÅËÖ≥ -->
        <footer class="app-footer" role="contentinfo">
            <div class="container">
                <div class="footer-content">
                    <p class="footer-text">
                        ¬© 2025 Todo List - ËÆìÁîüÊ¥ªÊõ¥ÊúâÊ¢ùÁêÜ
                    </p>
                    <div class="footer-shortcuts">
                        <span class="shortcut-hint">Âø´Êç∑ÈçµÔºö</span>
                        <kbd>Ctrl</kbd> + <kbd>Enter</kbd> Ê∑ªÂä†‰ªªÂãô
                        <span class="shortcut-separator">‚Ä¢</span>
                        <kbd>/</kbd> ÊêúÁ¥¢
                        <span class="shortcut-separator">‚Ä¢</span>
                        <kbd>Escape</kbd> Ê∏ÖÈô§ÊêúÁ¥¢
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Á¢∫Ë™çÂ∞çË©±Ê°Ü -->
    <div class="modal-overlay" id="confirmModal" role="dialog" aria-labelledby="confirmModalTitle" aria-describedby="confirmModalDescription" aria-hidden="true">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="confirmModalTitle">Á¢∫Ë™çÊìç‰Ωú</h3>
                <button type="button" class="modal-close" id="confirmModalClose" aria-label="ÈóúÈñâÂ∞çË©±Ê°Ü">
                    ‚úï
                </button>
            </div>
            <div class="modal-body">
                <p class="modal-description" id="confirmModalDescription">Á¢∫ÂÆöË¶ÅÂü∑Ë°åÊ≠§Êìç‰ΩúÂóéÔºü</p>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="confirmModalCancel">ÂèñÊ∂à</button>
                <button type="button" class="btn btn-danger" id="confirmModalConfirm">Á¢∫Ë™ç</button>
            </div>
        </div>
    </div>

    <!-- ÈÄöÁü•ÂÆπÂô® -->
    <div class="notification-container" id="notificationContainer" aria-live="polite" aria-atomic="true"></div>

    <!-- JavaScript Ê®°ÁµÑ -->
    <script type="module" src="js/main.js"></script>

    <!-- Êº∏ÈÄ≤ÂºèÂ¢ûÂº∑ - ÁÇ∫‰∏çÊîØÊè¥ JavaScript ÁöÑÁí∞Â¢ÉÊèê‰æõÂü∫Êú¨ÂäüËÉΩ -->
    <noscript>
        <div style="background: #fee; border: 1px solid #fcc; padding: 1rem; margin: 1rem; border-radius: 4px;">
            <h2>ÈúÄË¶ÅÂïüÁî® JavaScript</h2>
            <p>Ê≠§ÊáâÁî®Á®ãÂºèÈúÄË¶Å JavaScript ÊâçËÉΩÊ≠£Â∏∏ÈÅã‰Ωú„ÄÇË´ãÂú®ÁÄèË¶ΩÂô®Ë®≠ÂÆö‰∏≠ÂïüÁî® JavaScript„ÄÇ</p>
        </div>
    </noscript>
</body>
</html>